<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Python: module auto_pwlf</title>
</head><body>

<table class="heading">
<tr class="heading-text decor">
<td class="title">&nbsp;<br><strong class="title">auto_pwlf</strong> (version 0.1, 2024-08-03)</td>
<td class="extra"><a href=".">index</a><br><a href="file:c%3A%5Cusers%5Cnedee%5Cpython_projects%5Cauto_pwlf%5Csrc%5Cauto_pwlf.py">c:\users\nedee\python_projects\auto_pwlf\src\auto_pwlf.py</a></td></tr></table>
    <p><span class="code">MIT&nbsp;License<br>
&nbsp;<br>
Copyright&nbsp;(c)&nbsp;2024&nbsp;NedeeshaWeerasuriya<br>
&nbsp;<br>
Permission&nbsp;is&nbsp;hereby&nbsp;granted,&nbsp;free&nbsp;of&nbsp;charge,&nbsp;to&nbsp;any&nbsp;person&nbsp;obtaining&nbsp;a&nbsp;copy<br>
of&nbsp;this&nbsp;software&nbsp;and&nbsp;associated&nbsp;documentation&nbsp;files&nbsp;(the&nbsp;"Software"),&nbsp;to&nbsp;deal<br>
in&nbsp;the&nbsp;Software&nbsp;without&nbsp;restriction,&nbsp;including&nbsp;without&nbsp;limitation&nbsp;the&nbsp;rights<br>
to&nbsp;use,&nbsp;copy,&nbsp;modify,&nbsp;merge,&nbsp;publish,&nbsp;distribute,&nbsp;sublicense,&nbsp;and/or&nbsp;sell<br>
copies&nbsp;of&nbsp;the&nbsp;Software,&nbsp;and&nbsp;to&nbsp;permit&nbsp;persons&nbsp;to&nbsp;whom&nbsp;the&nbsp;Software&nbsp;is<br>
furnished&nbsp;to&nbsp;do&nbsp;so,&nbsp;subject&nbsp;to&nbsp;the&nbsp;following&nbsp;conditions:<br>
&nbsp;<br>
The&nbsp;above&nbsp;copyright&nbsp;notice&nbsp;and&nbsp;this&nbsp;permission&nbsp;notice&nbsp;shall&nbsp;be&nbsp;included&nbsp;in<br>
all&nbsp;copies&nbsp;or&nbsp;substantial&nbsp;portions&nbsp;of&nbsp;the&nbsp;Software.<br>
&nbsp;<br>
THE&nbsp;SOFTWARE&nbsp;IS&nbsp;PROVIDED&nbsp;"AS&nbsp;IS",&nbsp;WITHOUT&nbsp;WARRANTY&nbsp;OF&nbsp;ANY&nbsp;KIND,&nbsp;EXPRESS&nbsp;OR<br>
IMPLIED,&nbsp;INCLUDING&nbsp;BUT&nbsp;NOT&nbsp;LIMITED&nbsp;TO&nbsp;THE&nbsp;WARRANTIES&nbsp;OF&nbsp;MERCHANTABILITY,<br>
FITNESS&nbsp;FOR&nbsp;A&nbsp;PARTICULAR&nbsp;PURPOSE&nbsp;AND&nbsp;NONINFRINGEMENT.&nbsp;IN&nbsp;NO&nbsp;EVENT&nbsp;SHALL&nbsp;THE<br>
AUTHORS&nbsp;OR&nbsp;COPYRIGHT&nbsp;HOLDERS&nbsp;BE&nbsp;LIABLE&nbsp;FOR&nbsp;ANY&nbsp;CLAIM,&nbsp;DAMAGES&nbsp;OR&nbsp;OTHER<br>
LIABILITY,&nbsp;WHETHER&nbsp;IN&nbsp;AN&nbsp;ACTION&nbsp;OF&nbsp;CONTRACT,&nbsp;TORT&nbsp;OR&nbsp;OTHERWISE,&nbsp;ARISING&nbsp;FROM,<br>
OUT&nbsp;OF&nbsp;OR&nbsp;IN&nbsp;CONNECTION&nbsp;WITH&nbsp;THE&nbsp;SOFTWARE&nbsp;OR&nbsp;THE&nbsp;USE&nbsp;OR&nbsp;OTHER&nbsp;DEALINGS&nbsp;IN&nbsp;THE<br>
SOFTWARE.</span></p>
<p>
<table class="section">
<tr class="decor pkg-content-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><strong class="bigsection">Modules</strong></td></tr>
    
<tr><td class="decor pkg-content-decor"><span class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td>&nbsp;</td>
<td class="singlecolumn"><table><tr><td class="multicolumn"><a href="numpy.html">numpy</a><br>
</td><td class="multicolumn"><a href="pwlf.html">pwlf</a><br>
</td><td class="multicolumn"></td><td class="multicolumn"></td></tr></table></td></tr></table><p>
<table class="section">
<tr class="decor index-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><strong class="bigsection">Classes</strong></td></tr>
    
<tr><td class="decor index-decor"><span class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td>&nbsp;</td>
<td class="singlecolumn"><dl>
<dt class="heading-text"><a href="builtins.html#object">builtins.object</a>
</dt><dd>
<dl>
<dt class="heading-text"><a href="auto_pwlf.html#AutoPWLF">AutoPWLF</a>
</dt></dl>
</dd>
</dl>
 <p>
<table class="section">
<tr class="decor title-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><a name="AutoPWLF">class <strong>AutoPWLF</strong></a>(<a href="builtins.html#object">builtins.object</a>)</td></tr>
    
<tr><td class="decor title-decor" rowspan=2><span class="code">&nbsp;&nbsp;&nbsp;</span></td>
<td class="decor title-decor" colspan=2><span class="code"><a href="#AutoPWLF">AutoPWLF</a>(x_data:&nbsp;&amp;lt;built-in&nbsp;function&nbsp;array&amp;gt;,&nbsp;y_data:&nbsp;&amp;lt;built-in&nbsp;function&nbsp;array&amp;gt;,&nbsp;disp_res:&nbsp;bool&nbsp;=&nbsp;False,&nbsp;lapack_driver:&nbsp;str&nbsp;=&nbsp;'gelsd',&nbsp;degree:&nbsp;int&nbsp;=&nbsp;1,&nbsp;weights:&nbsp;&amp;lt;built-in&nbsp;function&nbsp;array&amp;gt;&nbsp;=&nbsp;None,&nbsp;random_seed:&nbsp;int&nbsp;=&nbsp;None,&nbsp;smooth_polyorder:&nbsp;int&nbsp;=&nbsp;0,&nbsp;complexity_penalty:&nbsp;int&nbsp;=&nbsp;20,&nbsp;peak_threshold:&nbsp;float&nbsp;=&nbsp;0.25,&nbsp;prominence_threshold:&nbsp;float&nbsp;=&nbsp;0.1)<br>
&nbsp;<br>
Class&nbsp;to&nbsp;find&nbsp;the&nbsp;optimal&nbsp;number&nbsp;of&nbsp;breaks&nbsp;for&nbsp;a&nbsp;piecewise&nbsp;linear&nbsp;fit&nbsp;using&nbsp;the&nbsp;Bayesian&nbsp;Information&nbsp;Criterion&nbsp;(BIC)<br>
and&nbsp;then&nbsp;fit&nbsp;the&nbsp;piecewise&nbsp;linear&nbsp;function&nbsp;to&nbsp;the&nbsp;given&nbsp;data&nbsp;set<br>
&nbsp;<br>
Attributes:<br>
&nbsp;&nbsp;&nbsp;&nbsp;x:&nbsp;independent&nbsp;variable<br>
&nbsp;&nbsp;&nbsp;&nbsp;y:&nbsp;dependent&nbsp;variable<br>
&nbsp;&nbsp;&nbsp;&nbsp;smooth_polyorder:&nbsp;polynomial&nbsp;order&nbsp;for&nbsp;the&nbsp;Savitzky-Golay&nbsp;filter<br>
&nbsp;&nbsp;&nbsp;&nbsp;disp_res:&nbsp;display&nbsp;results<br>
&nbsp;&nbsp;&nbsp;&nbsp;lapack_driver:&nbsp;LAPACK&nbsp;driver&nbsp;to&nbsp;use&nbsp;for&nbsp;the&nbsp;linear&nbsp;least&nbsp;squares&nbsp;problem<br>
&nbsp;&nbsp;&nbsp;&nbsp;degree:&nbsp;degree&nbsp;of&nbsp;the&nbsp;polynomial&nbsp;to&nbsp;fit<br>
&nbsp;&nbsp;&nbsp;&nbsp;weights:&nbsp;weights&nbsp;for&nbsp;the&nbsp;least&nbsp;squares&nbsp;problem<br>
&nbsp;&nbsp;&nbsp;&nbsp;random_seed:&nbsp;random&nbsp;seed&nbsp;for&nbsp;reproducibility<br>
&nbsp;&nbsp;&nbsp;&nbsp;stationary_points:&nbsp;number&nbsp;of&nbsp;stationary&nbsp;points<br>
&nbsp;&nbsp;&nbsp;&nbsp;y_smooth:&nbsp;smoothed&nbsp;y&nbsp;values&nbsp;using&nbsp;Savitzky-Golay&nbsp;filter<br>
&nbsp;&nbsp;&nbsp;&nbsp;optimal_breaks:&nbsp;optimal&nbsp;number&nbsp;of&nbsp;breaks&nbsp;found&nbsp;using&nbsp;the&nbsp;BIC<br>
&nbsp;&nbsp;&nbsp;&nbsp;complexity_penalty:&nbsp;complexity&nbsp;penalty&nbsp;for&nbsp;the&nbsp;BIC<br>
&nbsp;&nbsp;&nbsp;&nbsp;smooth_polyorder:&nbsp;polynomial&nbsp;order&nbsp;for&nbsp;the&nbsp;Savitzky-Golay&nbsp;filter<br>
&nbsp;&nbsp;&nbsp;&nbsp;peak_threshold:&nbsp;threshold&nbsp;for&nbsp;identifying&nbsp;peaks&nbsp;and&nbsp;valleys<br>
&nbsp;&nbsp;&nbsp;&nbsp;prominence_threshold:&nbsp;threshold&nbsp;for&nbsp;identifying&nbsp;significant&nbsp;peaks&nbsp;and&nbsp;valleys<br>
&nbsp;<br>
Methods:<br>
&nbsp;&nbsp;&nbsp;&nbsp;_switch_to_np_array:&nbsp;check&nbsp;if&nbsp;the&nbsp;input&nbsp;is&nbsp;a&nbsp;Numpy&nbsp;array,&nbsp;if&nbsp;not&nbsp;transform&nbsp;it&nbsp;to&nbsp;one<br>
&nbsp;&nbsp;&nbsp;&nbsp;_find_peaks_valleys:&nbsp;find&nbsp;the&nbsp;peaks&nbsp;and&nbsp;valleys&nbsp;of&nbsp;the&nbsp;smoothed&nbsp;data&nbsp;set<br>
&nbsp;&nbsp;&nbsp;&nbsp;sav_gol_fit:&nbsp;apply&nbsp;the&nbsp;Savitzky-Golay&nbsp;filter&nbsp;to&nbsp;the&nbsp;data&nbsp;set&nbsp;to&nbsp;smooth&nbsp;the&nbsp;data<br>
&nbsp;&nbsp;&nbsp;&nbsp;find_num_stationary_points:&nbsp;find&nbsp;the&nbsp;number&nbsp;of&nbsp;stationary&nbsp;points&nbsp;in&nbsp;the&nbsp;data&nbsp;set&nbsp;as&nbsp;a&nbsp;starting&nbsp;point&nbsp;for&nbsp;the&nbsp;number&nbsp;of&nbsp;breaks<br>
&nbsp;&nbsp;&nbsp;&nbsp;fit:&nbsp;find&nbsp;the&nbsp;optimal&nbsp;number&nbsp;of&nbsp;breaks&nbsp;for&nbsp;a&nbsp;piecewise&nbsp;linear&nbsp;fit&nbsp;using&nbsp;the&nbsp;Bayesian&nbsp;Information&nbsp;Criterion&nbsp;(BIC)<br>
&nbsp;&nbsp;&nbsp;&nbsp;auto_fit:&nbsp;fit&nbsp;a&nbsp;piecewise&nbsp;linear&nbsp;function&nbsp;with&nbsp;automated&nbsp;number&nbsp;of&nbsp;breaks&nbsp;found&nbsp;from&nbsp;the&nbsp;stationary&nbsp;points<br>&nbsp;</span></td></tr>
<tr><td>&nbsp;</td>
<td class="singlecolumn">Methods defined here:<br>
<dl><dt><a name="AutoPWLF-__init__"><strong>__init__</strong></a>(self, x_data: &lt;built-in function array&gt;, y_data: &lt;built-in function array&gt;, disp_res: bool = False, lapack_driver: str = 'gelsd', degree: int = 1, weights: &lt;built-in function array&gt; = None, random_seed: int = None, smooth_polyorder: int = 0, complexity_penalty: int = 20, peak_threshold: float = 0.25, prominence_threshold: float = 0.1)</dt><dd><span class="code">Initialize&nbsp;the&nbsp;<a href="#AutoPWLF">AutoPWLF</a>&nbsp;class&nbsp;to&nbsp;find&nbsp;the&nbsp;optimal&nbsp;number&nbsp;of&nbsp;breaks&nbsp;and&nbsp;fit&nbsp;a&nbsp;continuous&nbsp;piecewise&nbsp;linear&nbsp;function.<br>
Supply&nbsp;x&nbsp;and&nbsp;y&nbsp;values&nbsp;which&nbsp;will&nbsp;be&nbsp;used&nbsp;to&nbsp;fit&nbsp;the&nbsp;piecewise&nbsp;linear&nbsp;function&nbsp;to&nbsp;where&nbsp;y(x)&nbsp;=&nbsp;f(x).<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;x_data:&nbsp;independent&nbsp;variable<br>
&nbsp;&nbsp;&nbsp;&nbsp;y_data:&nbsp;dependent&nbsp;variable<br>
&nbsp;&nbsp;&nbsp;&nbsp;disp_res:&nbsp;display&nbsp;results<br>
&nbsp;&nbsp;&nbsp;&nbsp;lapack_driver:&nbsp;LAPACK&nbsp;driver&nbsp;to&nbsp;use&nbsp;for&nbsp;the&nbsp;linear&nbsp;least&nbsp;squares&nbsp;problem<br>
&nbsp;&nbsp;&nbsp;&nbsp;degree:&nbsp;degree&nbsp;of&nbsp;the&nbsp;polynomial&nbsp;to&nbsp;fit<br>
&nbsp;&nbsp;&nbsp;&nbsp;weights:&nbsp;weights&nbsp;for&nbsp;the&nbsp;least&nbsp;squares&nbsp;problem<br>
&nbsp;&nbsp;&nbsp;&nbsp;random_seed:&nbsp;random&nbsp;seed&nbsp;for&nbsp;reproducibility<br>
&nbsp;&nbsp;&nbsp;&nbsp;smooth_polyorder:&nbsp;polynomial&nbsp;order&nbsp;for&nbsp;the&nbsp;Savitzky-Golay&nbsp;filter<br>
&nbsp;&nbsp;&nbsp;&nbsp;complexity_penalty:&nbsp;complexity&nbsp;penalty&nbsp;for&nbsp;the&nbsp;BIC<br>
&nbsp;&nbsp;&nbsp;&nbsp;peak_threshold:&nbsp;threshold&nbsp;for&nbsp;identifying&nbsp;peaks&nbsp;and&nbsp;valleys<br>
&nbsp;&nbsp;&nbsp;&nbsp;prominence_threshold:&nbsp;threshold&nbsp;for&nbsp;identifying&nbsp;significant&nbsp;peaks&nbsp;and&nbsp;valleys</span></dd></dl>

<dl><dt><a name="AutoPWLF-auto_fit"><strong>auto_fit</strong></a>(self, fitfast: bool = False, plot_results: bool = True, buffer: int = 0)</dt><dd><span class="code">Fit&nbsp;a&nbsp;piecewise&nbsp;linear&nbsp;function&nbsp;with&nbsp;automated&nbsp;number&nbsp;of&nbsp;breaks&nbsp;found&nbsp;from&nbsp;the&nbsp;stationary&nbsp;points<br>
Adding&nbsp;a&nbsp;buffer&nbsp;to&nbsp;the&nbsp;number&nbsp;of&nbsp;breaks&nbsp;to&nbsp;allow&nbsp;for&nbsp;more&nbsp;flexibility&nbsp;with&nbsp;the&nbsp;model&nbsp;chosen&nbsp;by&nbsp;the&nbsp;BIC<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;fitfast:&nbsp;if&nbsp;true,&nbsp;use&nbsp;the&nbsp;fast&nbsp;fitting&nbsp;method&nbsp;for&nbsp;the&nbsp;piecewise&nbsp;linear&nbsp;fit<br>
&nbsp;&nbsp;&nbsp;&nbsp;plot_results:&nbsp;check&nbsp;if&nbsp;results&nbsp;should&nbsp;be&nbsp;plotted<br>
&nbsp;&nbsp;&nbsp;&nbsp;buffer:&nbsp;buffer&nbsp;for&nbsp;the&nbsp;number&nbsp;of&nbsp;breaks&nbsp;to&nbsp;allow&nbsp;for&nbsp;more&nbsp;flexibility<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;optimal_breaks:&nbsp;optimal&nbsp;number&nbsp;of&nbsp;breaks<br>
&nbsp;&nbsp;&nbsp;&nbsp;my_pwlf:&nbsp;PiecewiseLinFit&nbsp;model</span></dd></dl>

<dl><dt><a name="AutoPWLF-find_num_stationary_points"><strong>find_num_stationary_points</strong></a>(self, plot_fit: bool = False) -&gt; int</dt><dd><span class="code">Find&nbsp;the&nbsp;number&nbsp;of&nbsp;stationary&nbsp;points&nbsp;in&nbsp;the&nbsp;data&nbsp;set&nbsp;to&nbsp;use&nbsp;as&nbsp;min&nbsp;and&nbsp;max&nbsp;breaks<br>
First&nbsp;fit&nbsp;a&nbsp;smoothened&nbsp;interpolation&nbsp;function&nbsp;on&nbsp;the&nbsp;data<br>
Then&nbsp;find&nbsp;the&nbsp;number&nbsp;of&nbsp;peaks&nbsp;and&nbsp;valleys&nbsp;in&nbsp;the&nbsp;data<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;plot_fit:&nbsp;check&nbsp;if&nbsp;the&nbsp;fit&nbsp;should&nbsp;be&nbsp;plotted<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;stationary_points:&nbsp;number&nbsp;of&nbsp;stationary&nbsp;points</span></dd></dl>

<dl><dt><a name="AutoPWLF-fit"><strong>fit</strong></a>(self, min_breaks: int, max_breaks: int = None, complexity_penalty: int = 20, fitfast: bool = False, plot_results: bool = True)</dt><dd><span class="code">Finds&nbsp;the&nbsp;optimal&nbsp;number&nbsp;of&nbsp;breaks&nbsp;for&nbsp;a&nbsp;piecewise&nbsp;linear&nbsp;fit&nbsp;using&nbsp;the&nbsp;Bayesian&nbsp;Information&nbsp;Criterion&nbsp;(BIC)<br>
and&nbsp;then&nbsp;plots&nbsp;the&nbsp;piecewise&nbsp;linear&nbsp;fit&nbsp;of&nbsp;the&nbsp;given&nbsp;data&nbsp;set<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;min_breaks:&nbsp;minimum&nbsp;number&nbsp;of&nbsp;breaks<br>
&nbsp;&nbsp;&nbsp;&nbsp;max_breaks:&nbsp;maximum&nbsp;number&nbsp;of&nbsp;breaks<br>
&nbsp;&nbsp;&nbsp;&nbsp;complexity_penalty:&nbsp;complexity&nbsp;penalty&nbsp;for&nbsp;the&nbsp;BIC<br>
&nbsp;&nbsp;&nbsp;&nbsp;fitfast:&nbsp;if&nbsp;true,&nbsp;use&nbsp;the&nbsp;fast&nbsp;fitting&nbsp;method&nbsp;for&nbsp;the&nbsp;piecewise&nbsp;linear&nbsp;fit<br>
&nbsp;&nbsp;&nbsp;&nbsp;plot_results:&nbsp;check&nbsp;if&nbsp;results&nbsp;should&nbsp;be&nbsp;plotted<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;optimal_breaks:&nbsp;optimal&nbsp;number&nbsp;of&nbsp;breaks<br>
&nbsp;&nbsp;&nbsp;&nbsp;my_pwlf:&nbsp;PiecewiseLinFit&nbsp;model</span></dd></dl>

<dl><dt><a name="AutoPWLF-sav_gol_fit"><strong>sav_gol_fit</strong></a>(self, poly_order: int) -&gt; &lt;built-in function array&gt;</dt><dd><span class="code">Apply&nbsp;the&nbsp;Savitzky-Golay&nbsp;filter&nbsp;to&nbsp;the&nbsp;data&nbsp;set&nbsp;to&nbsp;smooth&nbsp;the&nbsp;data<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;poly_order:&nbsp;polynomial&nbsp;order&nbsp;for&nbsp;the&nbsp;filter<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;y_smooth:&nbsp;smoothed&nbsp;y&nbsp;values</span></dd></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><span class="code">dictionary&nbsp;for&nbsp;instance&nbsp;variables</span></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><span class="code">list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object</span></dd>
</dl>
</td></tr></table></td></tr></table><p>
<table class="section">
<tr class="decor author-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><strong class="bigsection">Author</strong></td></tr>
    
<tr><td class="decor author-decor"><span class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td>&nbsp;</td>
<td class="singlecolumn">NedeeshaWeerasuriya</td></tr></table>
</body></html>